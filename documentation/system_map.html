<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Personal Hub — System Map (Concept)</title>
  <style>
    :root {
      --bg: #0b0d12;
      --panel: #111625;
      --ink: #e9eefc;
      --muted: #aab4d6;
      --line: rgba(233,238,252,0.18);
      --accent: #65BC97;
      --warn: #f5c26b;
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background: radial-gradient(1200px 600px at 30% 20%, rgba(101,188,151,0.10), transparent 60%),
                  radial-gradient(900px 500px at 80% 50%, rgba(120,150,255,0.10), transparent 55%),
                  var(--bg);
      color: var(--ink);
    }
    header {
      padding: 18px 20px 10px;
      border-bottom: 1px solid var(--line);
      background: rgba(10,12,18,0.65);
      backdrop-filter: blur(8px);
      position: sticky;
      top: 0;
      z-index: 2;
    }
    h1 {
      font-size: 16px;
      margin: 0 0 6px;
      letter-spacing: 0.2px;
    }
    p {
      margin: 0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.35;
      max-width: 980px;
    }
    main {
      padding: 18px 20px 26px;
    }
    .wrap {
      max-width: 1100px;
      margin: 0 auto;
    }
    .legend {
      display: flex;
      gap: 14px;
      flex-wrap: wrap;
      margin: 14px 0 16px;
      color: var(--muted);
      font-size: 12px;
    }
    .chip {
      display: inline-flex;
      gap: 8px;
      align-items: center;
      padding: 6px 10px;
      border: 1px solid var(--line);
      border-radius: 999px;
      background: rgba(17,22,37,0.65);
    }
    .dot { width: 10px; height: 10px; border-radius: 50%; background: var(--accent); }
    .dot.warn { background: var(--warn); }
    .card {
      border: 1px solid var(--line);
      border-radius: 16px;
      background: rgba(17,22,37,0.65);
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }
    svg {
      width: 100%;
      height: auto;
      display: block;
    }
    .note {
      margin-top: 14px;
      padding: 12px 14px;
      border-left: 3px solid var(--accent);
      background: rgba(17,22,37,0.55);
      border-radius: 12px;
      color: var(--muted);
      font-size: 12.5px;
      line-height: 1.4;
    }
    code { color: var(--ink); }
    a { color: var(--ink); }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>Personal Hub — System Map (Conceptual)</h1>
      <p>
        Boxes are responsibilities. Arrows are data/control flow. This is intentionally conceptual: no ports, no libraries, no implementation detail.
      </p>
      <div class="legend">
        <span class="chip"><span class="dot"></span> Core / canonical</span>
        <span class="chip"><span class="dot warn"></span> Worker / add-on (Phase 2+)</span>
      </div>
    </div>
  </header>

  <main>
    <div class="wrap">
      <div class="card">
        <svg viewBox="0 0 1100 650" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="System map">
          <defs>
            <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="rgba(101,188,151,0.22)"/>
              <stop offset="1" stop-color="rgba(101,188,151,0.05)"/>
            </linearGradient>
            <linearGradient id="g2" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="rgba(245,194,107,0.22)"/>
              <stop offset="1" stop-color="rgba(245,194,107,0.05)"/>
            </linearGradient>
            <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
              <path d="M0,0 L10,3 L0,6 Z" fill="rgba(233,238,252,0.55)"/>
            </marker>
            <style>
              .box { rx: 18; ry: 18; stroke: rgba(233,238,252,0.18); stroke-width: 1.2; }
              .t1 { font: 600 16px system-ui, -apple-system, Segoe UI, Roboto, sans-serif; fill: rgba(233,238,252,0.95); }
              .t2 { font: 12.5px system-ui, -apple-system, Segoe UI, Roboto, sans-serif; fill: rgba(170,180,214,0.95); }
              .line { stroke: rgba(233,238,252,0.50); stroke-width: 1.4; fill: none; marker-end: url(#arrow); }
              .dash { stroke-dasharray: 6 6; }
              .label { font: 12px system-ui, -apple-system, Segoe UI, Roboto, sans-serif; fill: rgba(170,180,214,0.95); }
            </style>
          </defs>

          <!-- CORE -->
          <rect class="box" x="60" y="70" width="360" height="170" fill="url(#g1)"/>
          <text class="t1" x="90" y="110">Core App (Laravel)</text>
          <text class="t2" x="90" y="136">Web UI (Phase 1): Calendar / To-dos / Notes</text>
          <text class="t2" x="90" y="156">API: canonical access to data</text>
          <text class="t2" x="90" y="176">Emits jobs/events for async work</text>
          <text class="t2" x="90" y="196">Stores worker outputs (tags, summaries, embeddings)</text>

          <rect class="box" x="520" y="70" width="520" height="170" fill="rgba(17,22,37,0.55)"/>
          <text class="t1" x="550" y="110">PostgreSQL (Source of Truth)</text>
          <text class="t2" x="550" y="136">Relational data: items, tags, links, timestamps</text>
          <text class="t2" x="550" y="156">Phase 2+: embeddings via pgvector (kept alongside data)</text>
          <text class="t2" x="550" y="176">Indexes & constraints keep data sane</text>

          <rect class="box" x="60" y="290" width="360" height="130" fill="rgba(17,22,37,0.55)"/>
          <text class="t1" x="90" y="330">Queue (Redis)</text>
          <text class="t2" x="90" y="356">Job dispatch + retries</text>
          <text class="t2" x="90" y="376">Isolation for heavy work</text>

          <!-- WORKERS -->
          <rect class="box" x="520" y="290" width="520" height="190" fill="url(#g2)"/>
          <text class="t1" x="550" y="330">Workers / Add-ons (Phase 2+)</text>
          <text class="t2" x="550" y="356">Python (likely) for AI ecosystem</text>
          <text class="t2" x="550" y="376">Chat tool, embeddings, summaries, transcription</text>
          <text class="t2" x="550" y="396">Produces suggestions (explainable + snoozable)</text>
          <text class="t2" x="550" y="416">Writes results back via Core API</text>

          <!-- USER -->
          <rect class="box" x="60" y="470" width="360" height="140" fill="rgba(17,22,37,0.55)"/>
          <text class="t1" x="90" y="510">User</text>
          <text class="t2" x="90" y="536">Uses web UI daily (Phase 1)</text>
          <text class="t2" x="90" y="556">Later: chat / terminal-like interface</text>
          <text class="t2" x="90" y="576">Controls attention: dismiss, snooze, disable</text>

          <!-- FLOWS -->
          <!-- User -> Core -->
          <path class="line" d="M240 470 C240 420, 240 320, 240 240" />
          <text class="label" x="255" y="360">interacts</text>

          <!-- Core <-> DB -->
          <path class="line" d="M420 140 L520 140" />
          <path class="line dash" d="M520 165 L420 165" />
          <text class="label" x="448" y="130">read/write</text>

          <!-- Core -> Queue -->
          <path class="line" d="M240 240 C240 250, 240 265, 240 290" />
          <text class="label" x="255" y="275">enqueue job</text>

          <!-- Queue -> Workers -->
          <path class="line" d="M420 355 L520 355" />
          <text class="label" x="448" y="345">dispatch</text>

          <!-- Workers -> Core (preferred) -->
          <path class="line" d="M780 290 C780 250, 540 245, 420 215" />
          <text class="label" x="650" y="240">results via API</text>

          <!-- Workers -> DB (optional later) -->
          <path class="line dash" d="M920 290 C920 250, 920 235, 920 240 C920 210, 920 190, 920 170" />
          <text class="label" x="820" y="230">optional later: direct DB</text>
        </svg>
      </div>

      <div class="note">
        <strong>Phase 1:</strong> Core + DB + UI (queue can exist but worker features are off).<br/>
        <strong>Phase 2:</strong> Add a worker for chat + on-request access to your data.<br/>
        <strong>Phase 3+:</strong> Carefully introduce proactive suggestions (max one “hey” per day), always explainable and user-controlled.
      </div>
    </div>
  </main>
</body>
</html>
